<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p>All contributions to this project will be released under the CC0 public domain
dedication. By submitting a pull request or filing a bug, issue, or
feature request, you are agreeing to comply with this waiver of copyright interest.
Details can be found in our <a href="https://github.com/cfpb/capital-framework/blob/master/TERMS.md">TERMS</a> and <a href="https://github.com/cfpb/capital-framework/blob/master/LICENSE">LICENSE</a>.</p>

<hr>

<p>There are two primary ways to help:</p>
<ul>
  <li>Using the issue tracker, and</li>
  <li>Changing the codebase.</li>
</ul>

<h2 id="using-the-issue-tracker">Using the issue tracker</h2>

<p>Use the issue tracker to suggest feature requests, report bugs, and ask questions.
This is also a great way to connect with the developers of the project as well
as others who are interested in this solution.</p>

<p>Use the issue tracker to find ways to contribute. Find a bug or a feature,
mention in the issue that you will take on that effort,
then follow the <em>Changing the codebase</em> guidance below.</p>

<h2 id="changing-the-codebase">Changing the codebase</h2>

<p>We work off feature branches from the <code class="highlighter-rouge">master</code> branch.
After you’ve edited a component,
open a Pull Request to merge your feature branch back into <code class="highlighter-rouge">master</code>.</p>

<p>For example, if you wanted to change <code class="highlighter-rouge">cf-buttons</code> and use it in
<a href="https://github.com/cfpb/cfgov-refresh">cfgov-refresh</a>,
here’s what you’d do:</p>

<ol>
  <li>
<code class="highlighter-rouge">git clone git@github.com:cfpb/capital-framework.git</code>, if you haven’t already.</li>
  <li><code class="highlighter-rouge">cd capital-framework</code></li>
  <li>
<code class="highlighter-rouge">git checkout master &amp;&amp; git pull</code> to ensure you’re on the latest changes (this step is not necessary when cloning for the first time).</li>
  <li>
<code class="highlighter-rouge">yarn</code> to install dependencies and set up <a href="https://yarnpkg.com/lang/en/docs/workspaces/">workspaces</a>
</li>
  <li>
<code class="highlighter-rouge">git checkout -b button-fix</code> to create a new branch for your changes.</li>
  <li>Edit file(s) in <code class="highlighter-rouge">/packages/cf-buttons/</code> however you want.</li>
  <li>Run <code class="highlighter-rouge">gulp docs</code> to update the documentation.</li>
  <li>
<code class="highlighter-rouge">yarn run cf-link</code> to <a href="https://yarnpkg.com/lang/en/docs/cli/link/">link</a> your local CF components.</li>
  <li>
<code class="highlighter-rouge">cd ~/wherever/cfgov-refresh/</code> to navigate to another project where you’d like to test your buttons changes (in this case, cfgov-refresh).</li>
  <li>
<code class="highlighter-rouge">yarn link cf-buttons</code> to link cf-buttons to cfgov-refresh.</li>
  <li>
<code class="highlighter-rouge">gulp build</code> in cfgov-refresh to compile your stylesheets.</li>
  <li>
<a href="https://cfpb.github.io/cfgov-refresh/usage/">Start cfgov-refresh</a> and navigate to a page with buttons to view your cf-buttons changes.</li>
  <li>When you’re pleased with your changes, <code class="highlighter-rouge">cd</code> back to your <code class="highlighter-rouge">capital-framework</code> repo and commit your changes: <code class="highlighter-rouge">git commit -am "Fix button border radius"</code>
</li>
  <li>
<code class="highlighter-rouge">git push origin button-fix</code> to push your branch up to GitHub.</li>
  <li>Go to https://github.com/cfpb/capital-framework and open a pull request to merge <code class="highlighter-rouge">button-fix</code> into <code class="highlighter-rouge">master</code>.</li>
</ol>

<p>If you are not a current contributor to Capital Framework,
use forks by first clicking the fork button on top of the repository
and cloning your fork in step 1.
In the final step, go to https://github.com/cfpb/capital-framework
and file a pull request by clicking the link to compare changes across forks.</p>

<h3 id="updating-documentation">Updating Documentation</h3>

<p>Documentation is maintained in each component’s folder’s <code class="highlighter-rouge">usage.md</code> file.
Changes to documentation are made on the <code class="highlighter-rouge">master</code> branch using the workflow
above and pulled in the <code class="highlighter-rouge">docs</code> directory using the <code class="highlighter-rouge">gulp docs</code> command.
The <code class="highlighter-rouge">usage.md</code> files are then rendered as separated pages on Capital Framework’s website
<a href="https://cfpb.github.io/capital-framework/components/cf-core/">(See this example from cf-core)</a>.</p>

<h3 id="testing-components-locally">Testing components locally</h3>

<h4 id="automated-tests">Automated tests</h4>

<p>Automated tests can be run with the command <code class="highlighter-rouge">yarn test</code>.</p>

<h4 id="testing-in-the-documentation-site">Testing in the documentation site</h4>

<p>If you’re hacking on a component and want to test it in the documentation site
follow the following steps.</p>

<ol>
  <li>Ensure that you have the Bundler Ruby gem installed
by running <code class="highlighter-rouge">gem install bundler</code>.
(<a href="https://help.github.com/en/articles/setting-up-your-github-pages-site-locally-with-jekyll#requirements">more info</a>).</li>
  <li>Check out a working branch.</li>
  <li>Run <code class="highlighter-rouge">gulp docs</code>.</li>
  <li>Go into the documentation directory with <code class="highlighter-rouge">cd docs</code>.</li>
  <li>Run <code class="highlighter-rouge">bundle install</code> if you haven’t before
(also run <code class="highlighter-rouge">bundle update</code> periodically).</li>
  <li>Run <code class="highlighter-rouge">bundle exec jekyll serve watch</code> and visit http://localhost:4000/.</li>
</ol>

<h3 id="browser-support">Browser support</h3>

<p>We configure <a href="#autoprefixer">Autoprefixer</a>
and <a href="#babel">Babel</a> to support the following list of browsers.</p>

<ul>
  <li>Latest 2 releases of all browsers including:
    <ul>
      <li>Chrome</li>
      <li>Firefox</li>
      <li>Safari</li>
      <li>Internet Explorer</li>
      <li>Edge</li>
      <li>Opera</li>
      <li>iOS Safari</li>
      <li>Opera Mini</li>
      <li>Android Browser</li>
      <li>BlackBerry Browser</li>
      <li>Opera Mobile</li>
      <li>Chrome for Android</li>
      <li>Firefox for Android</li>
      <li>Samsung Internet</li>
    </ul>
  </li>
  <li>Internet Explorer 9</li>
</ul>

<p>http://browserl.ist/?q=last+2+versions%2C+Explorer+%3E%3D+9</p>

<p>As well as additional Autoprefixer support for:</p>

<ul>
  <li>Internet Explorer 8</li>
</ul>

<p>http://browserl.ist/?q=last+2+versions%2C+Explorer+%3E%3D+8</p>

<p>What this means to the end-user is we’ve added a level of backward
compatability for modern features as much as possible. This doesn’t
necessarily mean feature parity. Where it’s impossible or impractical to
implement a modern feature, we fallback to standard practices for that browser.
For example, we do not deliver interactive scripting for Internet Explorer 8,
but we do ensure that default browser features continue to work so users
that can’t or don’t want to upgrade continue to have access to the site and
our content.</p>

<h4 id="browser-testing">Browser Testing</h4>

<p>We have automated tests that use a headless version of Chrome to ensure
the majority of the site is working as expected. For manual testing, we
realistically test this project locally or in a virtual environment with the
following list of browsers:</p>

<ul>
  <li>Chrome</li>
  <li>Firefox</li>
  <li>Safari</li>
  <li>Internet Explorer 8, 9, 10, and 11</li>
  <li>Edge</li>
  <li>iOS Safari</li>
  <li>Chrome for Android</li>
</ul>

<h4 id="autoprefixer">Autoprefixer</h4>

<p>Autoprefixer parses our CSS and adds vendor prefixes to rules where necessary
using reported feature support by <a href="https://caniuse.com/">Can I Use</a>. For more
information visit the [Autoprefixer documentation site]
(https://autoprefixer.github.io/).</p>

<h4 id="babel">Babel</h4>

<p>Babel compiles our <a href="http://es6-features.org/">ES6</a> JavaScript where necessary
for the browsers that either don’t support or have limited support of ES6
features. For more information visit the [Babel documentation site]
(https://babeljs.io/).</p>

<h4 id="known-feature-differences">Known feature differences</h4>

<ul>
  <li>JavaScript: We do not serve interactive scripting to IE 8 but we do deliver
analytics via JavaScript.</li>
  <li>Icons: We currently use icon fonts to deliver scalable icons. Browsers that
do not support icon fonts unfortunately do not receive backups but we try to
always pair icons with text.</li>
</ul>

<h4 id="resources">Resources</h4>

<ul>
  <li>https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/</li>
  <li>https://saucelabs.com/beta/dashboard/tests</li>
  <li>http://developer.samsung.com/remotetestlab/rtlDeviceList.action#</li>
</ul>

<h2 id="release-management">Release management</h2>

<p>Ready to publish changes to npm?</p>

<ol>
  <li>Ensure you’re on <code class="highlighter-rouge">master</code> and <code class="highlighter-rouge">git pull</code> to confirm you’re up-to-date.</li>
  <li>Export a personal access token called
<a href="https://github.com/lerna/lerna-changelog#github-token"><code class="highlighter-rouge">GITHUB_AUTH</code></a>.</li>
  <li>Run <code class="highlighter-rouge">yarn run changelog</code> and open <code class="highlighter-rouge">CHANGELOG.md</code> to see a preview
of new changelog entries.
We use a <a href="https://github.com/lerna/lerna-changelog#usage">tool</a> that scans our
Pull Requests for specific labels so if you see a PR missing from the changelog,
ensure it has been labeled <code class="highlighter-rouge">breaking</code>, <code class="highlighter-rouge">enhancement</code>, <code class="highlighter-rouge">bug</code>,
<code class="highlighter-rouge">documentation</code> or <code class="highlighter-rouge">internal</code>.</li>
  <li>If you’re pleased with the changelog preview,
<code class="highlighter-rouge">git checkout CHANGELOG.md</code> to reset it.</li>
  <li>Run <code class="highlighter-rouge">yarn run release</code> to start the release.</li>
  <li>If all packages are shown as having been published,
run <code class="highlighter-rouge">git push</code> to push changes to the remote <code class="highlighter-rouge">master</code> branch.</li>
</ol>

<p>Lerna will update the changelog, ask for a new version number, create a git tag,
push to GitHub and publish to npm.</p>

<h2 id="notes">Notes</h2>

<p>The CSS and JavaScript files that are generated during the build task are only
used for testing. Because this project doesn’t necessarily produce a final
product it is up to the projects that use it to generate and maintain their own
browser support config. An example of this is
<a href="https://github.com/cfpb/cfgov-refresh">consumerfinance.gov</a>, which generates
specific IE 8 and 9 stylesheets, whereas the Capital Framework build task
bundles those with the main stylesheet. Despite the differences in delivery,
the output and support are the same.</p>

<h3 id="adhere-to-any-linting-errors-or-warnings">Adhere to any linting errors or warnings</h3>

<p>The <code class="highlighter-rouge">gulp lint</code> linting tasks that are set up within the build processes
are there to promote consistency.
When contributing code please publicly track that there are no linting errors
or warnings using the testing checklist in the pull request description.</p>

<h3 id="follow-our-css-naming-conventions">Follow our CSS naming conventions</h3>

<p><strong>We are using a customized BEM format</strong></p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.block-name</span>
<span class="nc">.block-name_element-name</span>
<span class="nc">.block-name__block-modifier</span>
<span class="nc">.block-name_element-name__element-modifier</span>
</code></pre></div></div>

<p><strong>Avoid creating elements of modifiers</strong></p>

<p>Appending an element name to a modifier class can result in a confusing class
name like <code class="highlighter-rouge">.list__space_item</code>.
Avoid this in favor of using a descendant, like this: <code class="highlighter-rouge">.list__spaced .list_item</code>.</p>

<h3 id="shoot-for-mobile-first-declarations">Shoot for mobile first declarations</h3>

<p>In most cases styles should be declared mobile first,
then enhanced with <code class="highlighter-rouge">min-width</code> media queries.
By doing this we create a base experience that all devices can use
and one that does not require media query support.</p>
</body></html>
